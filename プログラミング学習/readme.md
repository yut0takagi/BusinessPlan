# プログラミング学習共有プラットフォーム 要件定義書

> **Version**: 0.1
> **作成日**: 2025-05-26
> **作成者**: 髙木悠人

---

## 1. 背景・目的

プログラミング学習では膨大なコードファイルが PC 内に蓄積される一方、ほとんど再利用されないという課題がある。本プラットフォームは**学習者が作成した実コード**を共有資源とし、次の学習者向け教材・カリキュラムへ転換する仕組みを提供することで、教材コストの低減・学習効率の向上・コミュニティ活性化を実現することを目的とする。

## 2. 用語定義

| 用語              | 定義                                   |
| --------------- | ------------------------------------ |
| **Contributor** | 自身の学習コードをアップロードし、コインを獲得するユーザ         |
| **Learner**     | 教材・カリキュラムを受講するユーザ                    |
| **Moderator**   | 投稿コードの品質審査・タグ付け・荒らし対策を行うユーザ/管理者      |
| **Educator**    | 学校・塾など教育機関で組織的に利用する担当者               |
| **Coin**        | プラットフォーム内の仮想通貨。貢献・受講・回答などにより付与/消費される |

## 3. 想定ユーザ

* **個人学習者**: 初学者〜中級者。教材コストを抑え実践的コードで学びたい。
* **コード貢献者**: 学習履歴を資産化したい開発者・学生。
* **教育機関**: 学内教材の充実・試験監督コスト削減を狙う大学・高校・塾。
* **企業採用担当**: ハッカソン・コンペを通じた人材発掘とブランディングを行いたい。

## 4. 成功指標 (KPI)

| 指標               | 目標 (ローンチ +6か月) |
| ---------------- | -------------- |
| 月間アクティブユーザ (MAU) | 10,000         |
| アップロードコード数       | 50,000 ファイル    |
| 教材生成件数           | 5,000 コース      |
| Coin 流通量/日       | 20,000 Coin    |
| 質問回答平均時間         | < 6 h          |

## 5. システム概要図 (概念)

```
[Frontend (Web/SPA)] ──▶ [Backend API] ──▶ [DB & Storage]
                                 │
                                 ├─▶ [AIサービストリガ (教材生成)]
                                 └─▶ [Payment / Coin Service]
```

## 6. 機能要件

### 6.1 コード共有 (F-01)

| ID      | 要件                                                   | 優先度    |
| ------- | ---------------------------------------------------- | ------ |
| F-01-01 | Contributor は複数ファイル/フォルダをドラッグ&ドロップまたは CLI でアップロードできる | High   |
| F-01-02 | メタデータ (言語, 行数, ライブラリ, 難易度評価 AI 推定) を自動抽出する           | High   |
| F-01-03 | コード品質レビューワークフローを Moderator に提供する                     | Medium |
| F-01-04 | 品質スコアに応じて Coin を自動付与する                               | High   |

### 6.2 教材自動生成 (F-02)

| ID      | 要件                                                          | 優先度    |
| ------- | ----------------------------------------------------------- | ------ |
| F-02-01 | 教材生成 AI はアップロードコードを解析し、目的・前提知識・演習問題を Markdown 形式で出力する       | High   |
| F-02-02 | Learner レベル (Beginner/Intermediate/Advanced) に合わせ出力深度を調整できる | High   |
| F-02-03 | 教材はバージョン管理され、改訂履歴を保持する                                      | Medium |

### 6.3 学習カリキュラム & 進捗管理 (F-03)

| ID      | 要件                                      | 優先度    |
| ------- | --------------------------------------- | ------ |
| F-03-01 | Learner は興味・目標期間を入力すると最適カリキュラムがレコメンドされる | High   |
| F-03-02 | 各教材の完了状況・テスト結果をダッシュボード表示                | High   |
| F-03-03 | Educator はクラス単位で進捗・成績を閲覧・CSV ダウンロードできる  | Medium |

### 6.4 Coin 経済システム (F-04)

| ID      | 要件                                    | 優先度  |
| ------- | ------------------------------------- | ---- |
| F-04-01 | Coin は Stripe 等を用いてクレジットカード/銀行振込で購入可能 | High |
| F-04-02 | Coin 付与イベント: コード共有、質問回答、教材改訂承認        | High |
| F-04-03 | Coin 消費イベント: 教材受講、イベント参加、広告非表示オプション   | High |
| F-04-04 | トランザクション履歴はブロックチェーンライクに改ざん検知を備える      | Low  |

### 6.5 Q\&A コミュニティ (F-05)

| ID      | 要件                          | 優先度  |
| ------- | --------------------------- | ---- |
| F-05-01 | 投稿・回答にアップ/ダウン投票 & Coin 報酬連動 | High |
| F-05-02 | タグによる質問分類 (言語/分野/教材 ID 等)   | High |
| F-05-03 | スパム・不適切投稿の自動検知 & 通報フロー      | High |

### 6.6 イベント (コンペ・ハッカソン) (F-06)

| ID      | 要件                                               | 優先度    |
| ------- | ------------------------------------------------ | ------ |
| F-06-01 | 期間・テーマ・賞金を設定したオンラインコンペを開催できる                     | Medium |
| F-06-02 | 自動スコアリングパイプライン (例: Kaggle-style leaderboard) を提供 | Medium |
| F-06-03 | スポンサー企業は求人広告を掲載し、上位者へスカウトメッセージ送信可                | Low    |

### 6.7 テスト・試験監督機能 (F-07)

| ID      | 要件                          | 優先度    |
| ------- | --------------------------- | ------ |
| F-07-01 | 教育機関向けに試験問題プール & 自動リミックス生成  | Medium |
| F-07-02 | 画面録画・ブラウザロックによるオンラインカンニング防止 | Medium |
| F-07-03 | 学習ログから不正検知スコアを算出しレポート       | Low    |

## 7. 非機能要件

| 分類       | 要件 ID | 内容                                               |
| -------- | ----- | ------------------------------------------------ |
| セキュリティ   | NF-01 | OWASP Top10 に準拠した Web セキュリティ対策、OAuth2 認証         |
| パフォーマンス  | NF-02 | 通常時 95%tile レスポンス < 300ms                        |
| 可用性      | NF-03 | 99.5% 月間稼働率、冗長化 & 自動スケール                         |
| スケーラビリティ | NF-04 | 10倍ユーザ増にも DB & AI サービスを横展開で対応                    |
| 保守性      | NF-05 | CI/CD (GitHub Actions) と IaC (Terraform) でインフラ管理 |
| プライバシー   | NF-06 | GDPR/個人情報保護法準拠。教育データはリージョン分離可能                   |
| 国際化      | NF-07 | 日本語・英語 UI 切替、通貨換算対応                              |

## 8. 主要ユースケース

1. **コードアップロード**: Contributor がリポジトリを Zip でアップロード → 自動解析 → Coin 付与。
2. **教材受講**: Learner がトピック検索 → コイン決済 → ブラウザ IDE + クイズ→ 進捗保存。
3. **質問投稿**: Learner がエラーを投稿 → 上級者が回答 → Upvote→ Coin 報酬。
4. **教育機関クラス管理**: Educator がクラス作成 → 生徒招待 → 教材割当 → 成績確認。

## 9. データモデル概要 (Logical)

```
User(id, role, name, email, coin_balance, …)
CodeFile(id, user_id, lang, lines, score, storage_url, …)
Course(id, title, level, price_coin, version, author_id, …)
Lecture(id, course_id, order, markdown_url, quiz_json, …)
Transaction(id, user_id, type, coin, timestamp, ref_table, ref_id)
QA(id, user_id, course_id, title, body_md, votes, …)
Event(id, title, type, start_at, end_at, sponsor_id, prize_coin)
```

## 10. 技術スタック案

| レイヤ         | 技術候補                                              |
| ----------- | ------------------------------------------------- |
| Frontend    | React + Next.js, Chakra UI / Tailwind CSS         |
| Backend API | Python (FastAPI) or Java (Spring Boot)            |
| DB          | PostgreSQL (core), Redis (cache), Firestore (log) |
| Storage     | AWS S3 or GCP Cloud Storage                       |
| AI サービス     | OpenAI GPT-4o / LangChain で教材生成、Moderation API    |
| Auth        | Auth0 / Firebase Authentication                   |
| Payment     | Stripe (Coin購入), RevenueCat (アプリ内購入)              |

## 11. リスクと対策

| リスク         | 影響     | 対策                      |
| ----------- | ------ | ----------------------- |
| 著作権侵害コードの投稿 | 法的リスク  | 自動 & 手動レビュー、DMCA 対応ポリシー |
| 質の低い教材氾濫    | 学習効果低下 | 品質スコア & レビュー gating     |
| コイン経済インフレ   | 価値毀損   | 発行/消費バランスをダイナミック制御      |
| 不正受講・不正解答   | 信頼性低下  | 行動パターン分析とペナルティ          |

## 12. ロードマップ (MVP → V2)

| フェーズ | 期間     | 主機能                                                                         |
| ---- | ------ | --------------------------------------------------------------------------- |
| MVP  | 0–3ヶ月  | コード共有 (F-01), 教材自動生成 (F-02 基本), Coin 購入/付与 (F-04-01/02), 学習 UI (F-03-01/02) |
| V1   | 4–6ヶ月  | Q\&A コミュニティ (F-05), Educator 管理 (F-03-03), 基本イベント機能 (F-06-01)               |
| V2   | 7–12ヶ月 | 試験監督 (F-07), AI 改題・難易度調整, エンタープライズ SLA, モバイル App                            |

---

### 付録 A. Coin レート例

| Coin               | 円換算目安    |
| ------------------ | -------- |
| 1 Coin             | 10 円     |
| 教材受講 (平均)          | 50 Coin  |
| コード共有 (良質, 500行以上) | +30 Coin |
| Q\&A ベストアンサー       | +5 Coin  |

---

> **備考**: 本要件定義は議論のたたき台であり、今後ステークホルダーとのレビューを通じ随時改訂する。
